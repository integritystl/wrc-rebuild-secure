!function(e){var t={};function n(a){if(t[a])return t[a].exports;var l=t[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(a,l,function(t){return e[t]}.bind(null,l));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=wp.i18n.__,c=wp.components,p=c.ButtonGroup,u=c.Button,m=wp.element,d=m.Component,h=m.Fragment,f=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=i(this,o(t).apply(this,arguments))).state={notice:!0},e}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){var e=this,t=new plupload.Uploader({runtimes:"html5,flash,silverlight,html4",browse_button:"chunkFileUpload",container:document.getElementById("articulate_uploader"),url:articulateOptions.uploadData,chunk_size:articulateOptions.plupload.chunk_size,max_retries:articulateOptions.plupload.max_retries,dragdrop:!0,multi_selection:!1,file_data_name:"file",filters:{max_file_size:"0",mime_types:[{title:"Zip files",extensions:"zip"},{title:"MP4 files",extensions:"mp4"}]},init:{PostInit:function(){document.getElementById("chunkFileUploadButton").onclick=function(){t.start()}},UploadProgress:function(e,t){100===e.total.percent?document.getElementById("fileArea").innerHTML="".concat(t.name," uploaded. Unzipping content."):document.getElementById("fileArea").innerHTML="".concat(t.name," is uploading at ").concat(e.total.percent,"%")},FileUploaded:function(t,n,a){var l=jQuery.parseJSON(a.response);console.log("info: "+l),document.getElementById("fileArea").innerHTML=l.info,1===l.OK&&(e.props.insertData(l),e.setState({notice:!1}),setTimeout((function(){var e=document.getElementById("trial-notice");null!==e&&e.classList.add("hide-notice")}),500))},FilesAdded:function(e,n){1<t.files.length&&t.removeFile(t.files[0]),document.getElementById("fileArea").innerHTML="".concat(t.files[0].name," (").concat((t.files[0].size/1024/1024).toFixed(1)," mb)")},Error:function(e,t){console.log(t)}}});t.init()}},{key:"render",value:function(){return this.props.options.dir>this.props.options.count&&2===Number(this.props.options.count)&&!0===this.state.notice?wp.element.createElement("blockquote",{id:"trial-notice",class:"notice-blockquote flow-text pink-text lineheighter"},"The trial version only supports three uploads. Please purchase the full version with unlimited uploads at ",wp.element.createElement("a",{href:"https://www.elearningfreak.com/"},"www.elearningfreak.com")," - Already purchased? Go to Articulate > License on your Wordpress menu to activate your license key."):wp.element.createElement(h,null,wp.element.createElement(p,{id:"articulate_uploader"},wp.element.createElement(u,{className:"material-btn grey",id:"chunkFileUpload"},s("Choose your zip file")),wp.element.createElement(u,{id:"chunkFileUploadButton",className:"material-btn",isBusy:!!this.isUploading},wp.element.createElement("i",{class:"upload-icon"},"call_made"),s("Upload!"))),wp.element.createElement("p",{class:"fileArea",id:"fileArea"}))}}])&&l(n.prototype,a),c&&l(n,c),t}(d);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t,n,a,l,i,o){try{var r=e[i](o),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(a,l)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(a,l){var i=e.apply(t,n);function o(e){y(i,a,l,o,r,"next",e)}function r(e){y(i,a,l,o,r,"throw",e)}o(void 0)}))}}function _(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=wp.i18n.__,N=wp,O=N.apiFetch,C=N.apiRequest,L=wp.components,z=L.Button,I=L.ButtonGroup,P=L.Dashicon,D=(L.ExternalLink,L.IconButton),F=L.Modal,j=L.PanelBody,U=L.Placeholder,A=L.RadioControl,B=L.SelectControl,R=L.Spinner,H=L.TextControl,W=wp.element,q=W.Component,V=W.Fragment,Y=function(e){function t(){var e,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(a=S(t).apply(this,arguments))||"object"!==b(a)&&"function"!=typeof a?x(n):a).getCount=e.getCount.bind(x(e)),e.getLibrary=e.getLibrary.bind(x(e)),e.deleteLibrary=e.deleteLibrary.bind(x(e)),e.insertData=e.insertData.bind(x(e)),e.insertUpload=e.insertUpload.bind(x(e)),e.changeIcon=e.changeIcon.bind(x(e)),e.state={options:{type:"iframe",iFrameOption:"default",ratio:"4:3",lightboxTitleType:"default",linkType:"default",button:!1},isUploadOpen:!1,isLibraryOpen:!1,data:[],tempData:null,isLoaded:!1,dir:articulateOptions.dir,count:articulateOptions.count},e}var n,a,l,i,o,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),n=t,(a=[{key:"getCount",value:(s=E(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({path:"/articulate/v1/get-data",method:"get"});case 2:t=e.sent,this.setState({dir:t.length});case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getLibrary",value:(r=E(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({path:"/articulate/v1/get-data",method:"get"});case 2:t=e.sent,this.setState({data:t,isLoaded:!0});case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"deleteLibrary",value:(o=E(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoaded:!1}),e.next=3,O({path:"/articulate/v1/delete-data",method:"post",data:{dir:t}});case 3:n=e.sent,void 0!==this.props.attributes.src&&this.props.attributes.src.includes(t)&&this.props.setAttributes({src:"",href:""}),this.getCount(),this.setState({data:n,isLoaded:!0});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"insertData",value:function(e){this.setState({tempData:e}),this.getCount()}},{key:"insertUpload",value:(i=E(regeneratorRuntime.mark((function e(){var t,n,a,l=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.tempData,a=t.options,e.next=3,C({path:"/articulate/v1/rename-data",method:"post",data:{dir_name:n.folder,title:n.newFolder}}).then((function(e){if(void 0!==e){"success"==e[0]&&(n.newFolder=e[1]);var t=n.path.replace(n.folder,n.newFolder||n.folder);a.src=t,a.href=t,void 0!==a.width&&(a.widthType=void 0!==a.widthType?a.widthType:"px",a.width="".concat(parseInt(a.width)).concat(a.widthType)),void 0!==a.height&&(a.heightType=void 0!==a.heightType?a.heightType:"px",a.height="".concat(parseInt(a.height)).concat(a.heightType));var i=w({},a);l.props.setAttributes(w({},i)),l.setState({isUploadOpen:!1,tempData:null})}})).fail((function(e){return e}));case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"changeIcon",value:function(){setTimeout((function(){var e=document.querySelectorAll(".modal-collect .components-panel__body");Object.keys(e).forEach((function(t){e[t].classList.contains("is-opened")?e[t].nextElementSibling.innerHTML='<svg aria-hidden="true" role="img" focusable="false" class="dashicon dashicons-external floating-eye" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M9 3h8v8l-2-1V6.92l-5.6 5.59-1.41-1.41L14.08 5H10zm3 12v-3l2-2v7H3V6h8L9 8H5v7h7z"></path></svg>':e[t].nextElementSibling.innerHTML='<svg aria-hidden="true" role="img" focusable="false" class="dashicon dashicons-visibility floating-eye" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M19.7 9.4C17.7 6 14 3.9 10 3.9S2.3 6 .3 9.4L0 10l.3.6c2 3.4 5.7 5.5 9.7 5.5s7.7-2.1 9.7-5.5l.3-.6-.3-.6zM10 14.1c-3.1 0-6-1.6-7.7-4.1C3.6 8 5.7 6.6 8 6.1c-.9.6-1.5 1.7-1.5 2.9 0 1.9 1.6 3.5 3.5 3.5s3.5-1.6 3.5-3.5c0-1.2-.6-2.3-1.5-2.9 2.3.5 4.4 1.9 5.7 3.9-1.7 2.5-4.6 4.1-7.7 4.1z"></path></svg>'}))}),200)}},{key:"initMaterializeSelect",value:function(){setTimeout((function(){for(var e=document.querySelectorAll(".elearning-block-scope .input-field select:not(.materialize__done)"),t=(M.FormSelect.init(e),0);t<e.length;t++)e[t].classList.add("materialize__done")}),500),setTimeout((function(){for(var e=document.querySelectorAll(".elearning-block-scope .input-field select:not(.materialize__done)"),t=(M.FormSelect.init(e),0);t<e.length;t++)e[t].classList.add("materialize__done")}),1e3),setTimeout((function(){for(var e=document.querySelectorAll(".elearning-block-scope .input-field select:not(.materialize__done)"),t=(M.FormSelect.init(e),0);t<e.length;t++)e[t].classList.add("materialize__done")}),1500),setTimeout((function(){for(var e=document.querySelectorAll(".elearning-block-scope .input-field select:not(.materialize__done)"),t=(M.FormSelect.init(e),0);t<e.length;t++)e[t].classList.add("materialize__done")}),2e3)}},{key:"render",value:function(){var e=this,t=this.state,n=t.options,a=t.isUploadOpen,l=t.isLibraryOpen,i=t.data,o=t.tempData,r=t.isLoaded;return wp.element.createElement(V,null,wp.element.createElement("div",{className:"elearning-block-scope"},wp.element.createElement(U,{icon:"welcome-learn-more",label:T("e-Learning")},this.props.attributes.src?wp.element.createElement(V,null,this.props.attributes.src,wp.element.createElement(I,null,wp.element.createElement(z,{className:"material-btn grey",onClick:function(){return e.props.setAttributes({src:"",href:""})}},T("Remove")),wp.element.createElement(z,{className:"material-btn",onClick:function(){e.getLibrary(),e.setState({isLibraryOpen:!0})}},T("Choose Another")))):wp.element.createElement(V,null,wp.element.createElement("span",null,T("Upload a .zip or .mp4 file that you published from your tool or choose an existing content item.")),wp.element.createElement(I,null,wp.element.createElement(z,{className:"material-btn grey",onClick:function(){return e.setState({isUploadOpen:!0})}},T("Upload")),wp.element.createElement(z,{className:"material-btn",onClick:function(){e.getLibrary(),e.setState({isLibraryOpen:!0})}},T("Content Library"))))),a&&wp.element.createElement(F,{title:T(""),className:"elearning-modal elearning-block-scope",onRequestClose:function(){return e.setState({isUploadOpen:!1})}},this.initMaterializeSelect(),wp.element.createElement("h2",{class:"header-upload-file"},T("Upload File")),wp.element.createElement(f,{insertData:this.insertData,options:this.state}),null!==o&&wp.element.createElement("div",{className:"collectionUpload"},wp.element.createElement(H,{label:T("Title:"),className:"top-margin small-title",type:"text",value:void 0!==o.newFolder?o.newFolder:o.folder,onChange:function(t){o.newFolder=t,e.setState({tempData:o})}}),wp.element.createElement(A,{label:T("Insert As:"),className:"top-margin large-title",selected:"iframe_responsive"!=n.type&&n.type?n.type:"iframe",options:[{label:"iFrame",value:"iframe"},{label:"Lightbox",value:"lightbox"},{label:"Link that opens in a new window",value:"open_link_in_new_window"},{label:"Link that opens in a same window",value:"open_link_in_same_window"}],onChange:function(t){n.type=t,e.setState({options:n})}}),("iframe"===n.type||"iframe_responsive"===n.type)&&wp.element.createElement(V,null,wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{label:T("Size Options:"),className:"top-margin large-title",value:n.iFrameOption||"default",options:[{label:"Default",value:"default"},{label:"Responsive",value:"responsive"},{label:"Custom",value:"custom"}],onChange:function(t){n.iFrameOption=t,"default"===t&&(n.width="100%",n.widthType="%",n.height="600px",n.heightType="px"),n.type="responsive"===t?"iframe_responsive":"iframe",e.setState({options:n})}}),this.initMaterializeSelect()),"responsive"===n.iFrameOption&&wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{label:T("Ratio"),className:"top-margin",value:n.ratio||"4:3",options:[{label:"4:3",value:"4:3"},{label:"16:9",value:"16:9"}],onChange:function(t){n.ratio=t,e.setState({options:n})}}),this.initMaterializeSelect()),"custom"===n.iFrameOption&&wp.element.createElement(V,null,wp.element.createElement(H,{label:T("Height"),className:"top-margin",value:parseInt(n.height)||"",onChange:function(t){n.height=parseInt(t),e.setState({options:n})}}),wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{value:n.heightType||"px",options:[{label:"px",value:"px"},{label:"%",value:"%"}],onChange:function(t){n.heightType=t,"%"===t&&(n.height=parseInt(n.height)+"%"),e.setState({options:n})}})),wp.element.createElement(H,{label:T("Width"),className:"top-margin",value:parseInt(n.width)||"",onChange:function(t){n.width=parseInt(t),e.setState({options:n})}}),wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{value:n.widthType||"px",options:[{label:"px",value:"px"},{label:"%",value:"%"}],onChange:function(t){n.widthType=t,"%"===t&&(n.width=parseInt(n.width)+"%"),e.setState({options:n})}})),this.initMaterializeSelect())),"lightbox"===n.type&&wp.element.createElement(V,null,wp.element.createElement(A,{label:T("Options:"),className:"top-margin large-title",selected:n.lightboxTitleType||"default",options:[{label:"With Text",value:"custom"},{label:"No Title",value:"default"}],onChange:function(t){n.lightboxTitleType=t,"default"===t&&(n.title=""),e.setState({options:n})}}),"custom"===n.lightboxTitleType&&wp.element.createElement(H,{label:T("Title Text"),className:"top-margin",value:n.title||"",onChange:function(t){n.title=t,e.setState({options:n})}}),wp.element.createElement(A,{label:T("More Options:"),className:"top-margin large-title",selected:n.linkType||(""!==n.link_text?n.link_text:"default"),options:[{label:"Link Text",value:"custom"},{label:"Use 'Launch Presentation' button",value:"default"},{label:"Use custom image",value:"image"}],onChange:function(t){n.linkType=t,"custom"!==t&&(n.link_text=""),"image"!==t&&(n.button=""),e.setState({options:n})}}),"custom"===n.linkType&&wp.element.createElement(H,{label:T("Link Text"),className:"top-margin",value:n.link_text||"",onChange:function(t){n.link_text=t,e.setState({options:n})}}),"image"===n.linkType&&(0>=articulateOptions.options.buttons.length?T("No buttons available. You can add new buttons from Articulate menu in your WordPress dashboard menu."):wp.element.createElement(V,null,wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{className:"top-margin",value:n.button||0,options:[{label:T("Select Button"),value:""}].concat(articulateOptions.options.buttons.map((function(e,t){return{label:t+1,value:e}}))),onChange:function(t){n.button=t,e.setState({options:n})}})),n.button&&wp.element.createElement("div",{className:"preview-image"},wp.element.createElement("img",{src:n.button})),this.initMaterializeSelect())),wp.element.createElement("div",{className:"components-base-control top-margin large-title"},wp.element.createElement("label",{className:"components-base-control__label"},T("Scrollbar Options:"))),wp.element.createElement(A,{className:"top-margin",selected:n.scrollbar||"default",options:[{label:"Disabled",value:"default"},{label:"Display if needed",value:"no"}],onChange:function(t){n.scrollbar=t,"no"!==t&&(n.scrollbar=""),e.setState({options:n})}}),wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{label:T("Theme"),className:"top-margin",value:n.colorbox_theme||"default",options:[{label:"Default from Dashboard",value:"default_from_dashboard"},{label:"Default",value:"default"},{label:"Vintage",value:"vintage"},{label:"Dark Rimmed",value:"dark-rimmed"},{label:"Fancy Overlay",value:"fancy-overlay"},{label:"Minimal",value:"minimal"},{label:"Minimal Circles",value:"minimal-circles"},{label:"Sketch/Toon",value:"sketch-toon"},{label:"No Image",value:"noimage"},{label:"No Image Rounded",value:"noimage-rounded"},{label:"No Image Blue",value:"noimage-blue"},{label:"No Image Polaroid",value:"noimage-polaroid"},{label:"Shadow",value:"shadow"},{label:"Wood Table",value:"wood-table"}],onChange:function(t){n.colorbox_theme=t,"default_from_dashboard"===t&&(n.colorbox_theme=""),e.setState({options:n})}})),wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{label:T("Size Options"),className:"top-margin",value:n.size_opt||"default",options:[{label:"Lightbox Default",value:"lightebox_default"},{label:"Custom from Dashboard",value:"custom_form_dashboard"},{label:"Custom for this item",value:"custom"}],onChange:function(t){n.size_opt=t,"custom"!==t&&(n.width="",n.height=""),e.setState({options:n})}})),"custom"===n.size_opt&&wp.element.createElement(V,null,wp.element.createElement(H,{label:T("Height"),className:"top-margin",value:parseInt(n.height)||"",onChange:function(t){n.height=parseInt(t),e.setState({options:n})}}),wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{value:n.heightType||"px",options:[{label:"px",value:"px"},{label:"%",value:"%"}],onChange:function(t){n.heightType=t,"%"===t&&(n.height=parseInt(n.height)+"%"),e.setState({options:n})}})),wp.element.createElement(H,{label:T("Width"),className:"top-margin",value:parseInt(n.width)||"",onChange:function(t){n.width=parseInt(t),e.setState({options:n})}}),wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{value:n.widthType||"px",options:[{label:"px",value:"px"},{label:"%",value:"%"}],onChange:function(t){n.widthType=t,"%"===t&&(n.width=parseInt(n.width)+"%"),e.setState({options:n})}})),this.initMaterializeSelect()),this.initMaterializeSelect()),("open_link_in_new_window"===n.type||"open_link_in_same_window"===n.type)&&wp.element.createElement(V,null,wp.element.createElement(A,{label:T("More Options:"),className:"top-margin large-title",selected:n.linkType||"default",options:[{label:"Link Text",value:"custom"},{label:"Use 'Launch Presentation' button",value:"default"},{label:"Use custom image",value:"image"}],onChange:function(t){n.linkType=t,"custom"!==t&&(n.link_text="My test button"),"image"!==t&&(n.button=""),e.setState({options:n})}}),"custom"===n.linkType&&wp.element.createElement(H,{label:T("Link Text"),className:"top-margin",value:n.link_text||"",onChange:function(t){n.link_text=t,e.setState({options:n})}}),"image"===n.linkType&&(0>=articulateOptions.options.buttons.length?T("No buttons available. You can add new buttons from Articulate menu in your WordPress dashboard menu."):wp.element.createElement(V,null,wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{className:"top-margin",value:n.button||0,options:[{label:T("Select Button"),value:""}].concat(articulateOptions.options.buttons.map((function(e,t){return{label:t+1,value:e}}))),onChange:function(t){n.button=t,e.setState({options:n})}})),n.button&&wp.element.createElement("div",{className:"preview-image"},wp.element.createElement("img",{src:n.button})),this.initMaterializeSelect())),this.initMaterializeSelect()),wp.element.createElement(I,null,wp.element.createElement(z,{className:"material-btn top-margin",onClick:this.insertUpload},T("Insert")))),wp.element.createElement("iframe",{width:"600",height:"366",src:"https://www.youtube.com/embed/AwcIsxpkvM4",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),wp.element.createElement("p",null,wp.element.createElement("iframe",{src:"https://www.elearningfreak.com/wordpresspluginlatestpremium500.html?v=587&editor=gutenburg",width:"600px",frameborder:"0"}))),l&&wp.element.createElement(F,{title:T(""),className:"elearning-modal elearning-block-scope",onRequestClose:function(){return e.setState({isLibraryOpen:!1})}},this.initMaterializeSelect(),!0!==r?wp.element.createElement(U,null,wp.element.createElement(R,null)):null!==i?wp.element.createElement("div",{className:"collection"},wp.element.createElement("div",{class:"collection-header"},wp.element.createElement("h4",null,T("Content Library"))),Object.keys(i).map((function(t){return wp.element.createElement("div",{className:"modal-collect",onClick:function(){e.changeIcon(),e.initMaterializeSelect()}},wp.element.createElement(j,{title:i[t].dir,initialOpen:!1,key:t},wp.element.createElement(A,{label:T("Insert As"),className:"top-margin large-title",selected:"iframe_responsive"!=n.type&&n.type?n.type:"iframe",options:[{label:"iFrame",value:"iframe"},{label:"Lightbox",value:"lightbox"},{label:"Link that opens in a new window",value:"open_link_in_new_window"},{label:"Link that opens in a same window",value:"open_link_in_same_window"}],onChange:function(t){n.type=t,e.setState({options:n})}}),("iframe"===n.type||"iframe_responsive"===n.type)&&wp.element.createElement(V,null,wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{label:T("Size Options"),className:"top-margin large-title",value:n.iFrameOption||"default",options:[{label:"Default",value:"default"},{label:"Responsive",value:"responsive"},{label:"Custom",value:"custom"}],onChange:function(t){n.iFrameOption=t,"default"===t&&(n.width="100%",n.widthType="%",n.height="600px",n.heightType="px"),n.type="responsive"===t?"iframe_responsive":"iframe",e.setState({options:n})}})),e.initMaterializeSelect(),"responsive"===n.iFrameOption&&wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{label:T("Ratio"),className:"top-margin",value:n.ratio||"4:3",options:[{label:"4:3",value:"4:3"},{label:"16:9",value:"16:9"}],onChange:function(t){n.ratio=t,e.setState({options:n})}}),e.initMaterializeSelect()),"custom"===n.iFrameOption&&wp.element.createElement(V,null,wp.element.createElement(H,{label:T("Height"),className:"top-margin",value:parseInt(n.height)||"",onChange:function(t){n.height=parseInt(t),e.setState({options:n})}}),wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{value:n.heightType||"px",options:[{label:"px",value:"px"},{label:"%",value:"%"}],onChange:function(t){n.heightType=t,e.setState({options:n})}}),e.initMaterializeSelect()),wp.element.createElement(H,{label:T("Width"),className:"top-margin",value:parseInt(n.width)||"",onChange:function(t){n.width=parseInt(t),e.setState({options:n})}}),wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{value:n.widthType||"px",options:[{label:"px",value:"px"},{label:"%",value:"%"}],onChange:function(t){n.widthType=t,e.setState({options:n})}}),e.initMaterializeSelect()))),"lightbox"===n.type&&wp.element.createElement(V,null,wp.element.createElement(A,{label:T("Lightbox options"),className:"top-margin large-title",selected:n.lightboxTitleType||"default",options:[{label:"With Text",value:"custom"},{label:"No Title",value:"default"}],onChange:function(t){n.lightboxTitleType=t,"default"===t&&(n.title=""),e.setState({options:n})}}),"custom"===n.lightboxTitleType&&wp.element.createElement(H,{label:T("Title Text"),className:"top-margin",value:n.title||"",onChange:function(t){n.title=t,e.setState({options:n})}}),wp.element.createElement(A,{label:T("More Options:"),className:"top-margin large-title",selected:n.linkType||(""!==n.link_text?n.link_text:"default"),options:[{label:"Link Text",value:"custom"},{label:"Use 'Launch Presentation' button",value:"default"},{label:"Use custom image",value:"image"}],onChange:function(t){n.linkType=t,"custom"!==t&&(n.link_text=""),"image"!==t&&(n.button=""),e.setState({options:n})}}),"custom"===n.linkType&&wp.element.createElement(H,{label:T("Link Text"),className:"top-margin",value:n.link_text||"",onChange:function(t){n.link_text=t,e.setState({options:n})}}),"image"===n.linkType&&(0>=articulateOptions.options.buttons.length?T("No buttons available. You can add new buttons from Articulate menu in your WordPress dashboard menu."):wp.element.createElement(V,null,wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{className:"top-margin",value:n.button||0,options:[{label:T("Select Button"),value:""}].concat(articulateOptions.options.buttons.map((function(e,t){return{label:t+1,value:e}}))),onChange:function(t){n.button=t,e.setState({options:n})}})),n.button&&wp.element.createElement("div",{className:"preview-image"},wp.element.createElement("img",{src:n.button})))),wp.element.createElement("div",{className:"components-base-control top-margin large-title"},wp.element.createElement("label",{className:"components-base-control__label"},T("Scrollbar options"))),wp.element.createElement(A,{className:"top-margin",selected:n.scrollbar||"default",options:[{label:"Default - display if needed",value:"default"},{label:"Disabled",value:"no"}],onChange:function(t){n.scrollbar=t,"no"!==t&&(n.scrollbar=""),e.setState({options:n})}}),wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{label:T("Theme"),className:"top-margin",value:n.colorbox_theme||"default",options:[{label:"Default from Dashboard",value:"default_from_dashboard"},{label:"Default",value:"default"},{label:"Vintage",value:"vintage"},{label:"Dark Rimmed",value:"dark-rimmed"},{label:"Fancy Overlay",value:"fancy-overlay"},{label:"Minimal",value:"minimal"},{label:"Minimal Circles",value:"minimal-circles"},{label:"Sketch/Toon",value:"sketch-toon"},{label:"No Image",value:"noimage"},{label:"No Image Rounded",value:"noimage-rounded"},{label:"No Image Blue",value:"noimage-blue"},{label:"No Image Polaroid",value:"noimage-polaroid"},{label:"Shadow",value:"shadow"},{label:"Wood Table",value:"wood-table"}],onChange:function(t){n.colorbox_theme=t,"default_from_dashboard"===t&&(n.colorbox_theme=""),e.setState({options:n})}})),wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{label:T("Size Options"),className:"top-margin",value:n.size_opt||"default",options:[{label:"Lightbox Default",value:"lightebox_default"},{label:"Custom from Dashboard",value:"custom_form_dashboard"},{label:"Custom for this item",value:"custom"}],onChange:function(t){n.size_opt=t,"custom"!==t&&(n.width="",n.height=""),e.setState({options:n})}})),e.initMaterializeSelect(),"custom"===n.size_opt&&wp.element.createElement(V,null,wp.element.createElement(H,{label:T("Height"),className:"top-margin",value:parseInt(n.height)||"",onChange:function(t){n.height=parseInt(t),e.setState({options:n})}}),wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{value:n.heightType||"px",options:[{label:"px",value:"px"},{label:"%",value:"%"}],onChange:function(t){n.heightType=t,e.setState({options:n})}})),wp.element.createElement(H,{label:T("Width"),className:"top-margin",value:parseInt(n.width)||"",onChange:function(t){n.width=parseInt(t),e.setState({options:n})}}),wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{value:n.widthType||"px",options:[{label:"px",value:"px"},{label:"%",value:"%"}],onChange:function(t){n.widthType=t,e.setState({options:n})}})),e.initMaterializeSelect())),("open_link_in_new_window"===n.type||"open_link_in_same_window"===n.type)&&wp.element.createElement(V,null,wp.element.createElement(A,{label:T("More Options:"),className:"top-margin large-title",selected:n.linkType||"default",options:[{label:"Link Text",value:"custom"},{label:"Use 'Launch Presentation' button",value:"default"},{label:"Use custom image",value:"image"}],onChange:function(t){n.linkType=t,"custom"!==t&&(n.link_text=""),"image"!==t&&(n.button=""),e.setState({options:n})}}),"custom"===n.linkType&&wp.element.createElement(H,{label:T("Link Text"),className:"top-margin",value:n.link_text||"",onChange:function(t){n.link_text=t,e.setState({options:n})}}),"image"===n.linkType&&(0>=articulateOptions.options.buttons.length?T("No buttons available. You can add new buttons from Articulate menu in your WordPress dashboard menu."):wp.element.createElement(V,null,wp.element.createElement("div",{className:"input-field"},wp.element.createElement(B,{className:"top-margin",value:n.button||0,options:[{label:T("Select Button"),value:""}].concat(articulateOptions.options.buttons.map((function(e,t){return{label:t+1,value:e}}))),onChange:function(t){n.button=t,e.setState({options:n})}})),n.button&&wp.element.createElement("div",{className:"preview-image"},wp.element.createElement("img",{src:n.button})),e.initMaterializeSelect()))),wp.element.createElement(I,null,wp.element.createElement(z,{className:"material-btn top-margin",onClick:function(){n.src="".concat(i[t].path+i[t].dir,"/").concat(i[t].file),n.href="".concat(i[t].path+i[t].dir,"/").concat(i[t].file),void 0!==n.width&&(n.widthType=void 0!==n.widthType?n.widthType:"px",n.width="".concat(parseInt(n.width)).concat(n.widthType)),void 0!==n.height&&(n.heightType=void 0!==n.heightType?n.heightType:"px",n.height="".concat(parseInt(n.height)).concat(n.heightType));var a=w({},n);e.props.setAttributes(w({},a)),e.setState({isLibraryOpen:!1})}},T("Insert")),wp.element.createElement(D,{icon:"trash",label:T("Delete"),className:"top-margin delete-icon-button",onClick:function(){confirm(T("Are you sure you want to do this?"))&&e.deleteLibrary(i[t].dir)}}))),wp.element.createElement(P,{className:"floating-eye",icon:"visibility"}),wp.element.createElement(D,{icon:"trash",label:T("Delete"),className:"top-margin delete-icon-button float",onClick:function(){confirm(T("Are you sure you want to do this?"))&&e.deleteLibrary(i[t].dir)}}))}))):wp.element.createElement(V,null,wp.element.createElement("p",null,T("Empty.  Please upload content.")),wp.element.createElement(z,{className:"material-btn grey no-margin",onClick:function(){e.setState({isUploadOpen:!0,isLibraryOpen:!0})}},T("Upload"))))))}}])&&_(n.prototype,a),l&&_(n,l),t}(q),G=wp.i18n.__,Q=wp.blocks.registerBlockType;t.default=Q("e-learning/block",{title:G("e-Learning"),description:G("Quickly embed or insert e-learning content into a post or page. Supports Articulate, Captivate, iSpring, and more."),category:"common",icon:"welcome-learn-more",keywords:[G("e-learning"),G("learn"),G("course")],attributes:{src:{type:"string"},href:{type:"string"},type:{type:"string",default:"iframe"},width:{type:"string",default:"100%"},height:{type:"string",default:"600"},ratio:{type:"string",default:"4:3"},frameborder:{type:"number",default:0},scrolling:{type:"string",default:"no"},title:{type:"string"},link_text:{type:"string"},button:{type:"string"},scrollbar:{type:"string"},colorbox_theme:{type:"string"},size_opt:{type:"string"}},edit:Y,save:function(){return null}})}]);